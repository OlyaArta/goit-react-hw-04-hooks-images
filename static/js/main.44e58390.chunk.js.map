{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/services/basic.js","components/services/API.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Button/Button.js","components/App.js","index.js"],"names":["module","exports","Searchbar","state","searchQuery","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","BASE_URL","API_KEY","page","a","url","axios","get","data","console","log","hits","fetchImages","ImageGalleryItem","webformatURL","largeImageURL","onClick","src","alt","ImageGalleryItemImage","ImageGallery","img","clickImages","map","id","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","handleBackdropClose","target","window","addEventListener","removeEventListener","createPortal","Overlay","largeImage","Spinner","color","height","width","timeout","React","Button","App","images","showModal","loading","handleFormSubmit","cleanPage","loadMore","prevState","toggleModal","modalImg","prevProps","prevSearch","nextSearch","prevPage","nextPage","error","message","theme","length","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44e58390.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__36kdR\",\"SearchForm\":\"Searchbar_SearchForm__3owqr\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1hwo0\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1G_YF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1vm67\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__39pZ6\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3mdGI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__FwAU3\",\"Modal\":\"Modal_Modal__33UfI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3k1mJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2paGf\"};","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport s from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    searchQuery: \"\",\r\n  };\r\n\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  handleNameChange = (event) => {\r\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (this.state.searchQuery.trim() === \"\") {\r\n      toast(\"Empty input!\");\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.searchQuery}\r\n            onChange={this.handleNameChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","const BASE_URL = \"https://pixabay.com/api\";\r\nconst API_KEY = \"22999065-3fa49f66c111c7f1f9c9e2a79\";\r\n\r\nexport { BASE_URL, API_KEY };\r\n","import { BASE_URL, API_KEY } from \"../services/basic\";\r\nimport axios from \"axios\";\r\n\r\nasync function fetchImages(searchQuery, page) {\r\n  const url = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  const { data } = await axios.get(url);\r\n  console.log(data);\r\n\r\n  return data.hits;\r\n}\r\n\r\n// function fetchImages(searchQuery, page) {\r\n//   const url = `${BASE_URL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n//   return fetch(url)\r\n//     .then((response) => response.json())\r\n//     .then(({ hits }) => {\r\n//       console.log(\"hits\", hits);\r\n//       return hits;\r\n//     });\r\n// }\r\n\r\nexport default fetchImages;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nexport default function ImageGalleryItem({\r\n  webformatURL,\r\n  largeImageURL,\r\n  onClick,\r\n}) {\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={largeImageURL}\r\n        className={s.ImageGalleryItemImage}\r\n        onClick={onClick}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\n// const ImageGalleryItem = ({ image, tags }) => {\r\n//   return (\r\n//     <li className={s.ImageGalleryItem}>\r\n//       <img src={image} alt={tags} className={s.ImageGalleryItemImage} />\r\n//     </li>\r\n//   );\r\n// };\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ img, clickImages }) => {\r\n  return (\r\n    <ul className={s.ImageGallery}>\r\n      {img.map(({ id, webformatURL, largeImageURL }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          onClick={clickImages}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  img: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n  clickImages: PropTypes.func,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    largeImage: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // console.log(\"sds\");\r\n    window.addEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    // console.log(\"saas\");\r\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  handleBackdropClose = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClick();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClose}>\r\n        <div className={s.Modal}>\r\n          <img src={this.props.largeImage} alt=\"\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import Loader from \"react-loader-spinner\";\r\nimport React from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\nexport default class Spinner extends React.Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"TailSpin\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function Button({ onClick }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};\r\n","import React from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\nimport Searchbar from \"./Searchbar/Searchbar.js\";\nimport fetchImages from \"./services/API\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Modal from \"./Modal/Modal\";\nimport Spinner from \"./Loader/Loader\";\nimport Button from \"./Button/Button\";\n\nexport default class App extends React.Component {\n  state = {\n    searchQuery: \"\",\n    images: [],\n    page: 1,\n    showModal: false,\n    loading: false,\n    largeImage: \"\",\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const prevSearch = prevState.searchQuery;\n    const nextSearch = this.state.searchQuery;\n\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevSearch !== nextSearch || prevPage !== nextPage) {\n      try {\n        this.setState({ loading: true });\n        const images = await fetchImages(nextSearch, nextPage);\n\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n        }));\n      } catch (error) {\n        this.setState({ error });\n        toast.error(this.state.error.message, { theme: \"colored\" });\n      } finally {\n        if (prevState.images.length > 5) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        }\n      }\n      this.setState({ loading: false });\n    }\n  }\n\n  handleFormSubmit = (searchQuery) => {\n    this.cleanPage();\n    this.setState({ searchQuery });\n  };\n\n  cleanPage = () => {\n    this.setState({\n      searchQuery: \"\",\n      page: 1,\n      images: [],\n      showModal: false,\n    });\n  };\n\n  loadMore = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  // openModal = (largeImageUrl, tags) => {\n  //   this.setState({ alt: tags, showModal: true });\n  // };\n\n  // closeModal = () => {\n  //   this.setState({ showModal: false });\n  // };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  clickImages = (e) => {\n    const modalImg = e.currentTarget.alt;\n    this.setState({ showModal: true, largeImage: modalImg });\n  };\n\n  render() {\n    const { showModal, loading, images, largeImage } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {images.length > 0 && (\n          <ImageGallery img={images} clickImages={this.clickImages} />\n        )}\n        {images.length > 1 && <Button onClick={this.loadMore} />}\n        {showModal && (\n          <Modal onClick={this.toggleModal} largeImage={largeImage} />\n        )}\n        {loading && <Spinner />}\n        <ToastContainer autoClose={2500} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}